# Terms of reference for the position of Python Developer Junior.
# Test task: "ElectronicsTrading"
# Technologies:

● Python 3.8+

● Django 2.1+

● DRF 3.10+

● Celery 4.4 +

● PostgreSQL 10+

# Task Part #1 (mandatory):

1. Create a web application with an API interface and an admin panel.
2. Create a database using Django migrations.

# Implementation requirements:
Требования к реализации:
1. Необходимо реализовать модель сети по продаже электроники. Сеть должна 
представлять собой иерархическую структуру из 5 уровней:
- Завод;
- Дистрибьютор;
- Дилерский центр;
- Крупная розничная сеть;
- Индивидуальный предприниматель.
Каждое звено сети ссылается только на одного поставщика оборудования (не обязательно
предыдущего по иерархии). Важно отметить, что уровень иерархии определяется не названием
звена, а отношением к остальным элементам сети, т.е. завод всегда находится на 0 уровне, а если
розничная сеть относится напрямую к заводу, минуя остальные звенья - её уровень - 1.
2. Каждое звено сети обладает следующими элементами:
- Название;
- Контакты:
- Электронная почта;
- Адрес:
- Страна;
- Город;
- Улица;
- Номер дома;
- Продукты:
- Название;
- Модель;
- Дата выхода продукта на рынок;
- Сотрудники;
- Поставщик (предыдущий по иерархии объект сети);
- Задолженность перед поставщиком в денежном выражении с точностью до копеек;
- Время создания (заполняется автоматически при создании).
3. Сделать вывод в админ-панели созданных объектов;
На странице объекта сети добавить: 
• ссылку на «Поставщика»;
• фильтр по названию города;
• «admin action», очищающий задолженность перед поставщиком у выбранных
объектов

4. Используя DRF, создать набор представлений:
4.1 Информацию обо всех объектах сети;
4.2 Информацию об объектах определённой страны (фильтр по названию);
4.3 Статистику об объектах, задолженность которых превышает среднюю задолженность 
 всех объектов;
4.4 Все объекты сети, где можно встретить определённый продукт (фильтр по id продукта);
4.5 Возможность создания и удаления объекта сети и продукта;
4.6 Возможность обновления данных объекта сети и продукта (запретить обновление через 
 API поля «Задолженность перед поставщиком»);
5. Настроить права доступа к API так, чтобы только активные сотрудники имели доступ к
API.


# Task Part #2 (optional):
Задание:
- Заполнить базу данных.
- Автоматизировать процессы в приложении при помощи Celery.
- Настроить отдельный доступ к API.

# Implementation requirements:
1. Заполнить базу данных тестовыми данными. Способ выбрать самостоятельно.
2. Написать несколько celery задач:
• Задача должна запускаться автоматически каждые 3 часа и увеличивать задолженность 
перед поставщиком на случайное число от 5 до 500;
• Задача должна запускаться автоматически в 6:30 каждый день и уменьшать 
задолженность перед поставщиком на случайное число от 100 до 10 000;
• Если action из задания №3 предыдущей части применяется более чем к 20 объектам, 
очистку данных нужно производить асинхронно.



# Run the project locally
1. **Fill in .env file, edit .env example**

2. **Build the containers**
```shell
docker-compose build
```
3. **Run the containers**
```shell
docker-compose up -d
```
4. **Track the logs**
```shell
docker-compose logs -f 
```